"use strict";window.WebViewJSBridge||(window.WebViewJSBridge=new function(){var e={},t={},n={},i=0,r=!1,a=["flutter"];function o(){if(r){var e=Array.prototype.slice.call(arguments);console.log.apply(null,e)}}function c(){return a.indexOf("iframe")>-1}function d(t,n){e[t]=n}function s(e,r){return function(e,r){if(!e)throw Error("WebViewJSBridge: handler name can not be null!!!");var a={id:i++,type:"request",resolved:!1,rejected:!1};if(a.action=e,r&&(r.data&&(a.data=r.data),r.success&&(t[a.id]||(t[a.id]={}),t[a.id].success=r.success),r.fail&&(t[a.id]||(t[a.id]={}),t[a.id].fail=r.fail)),l(a),!t[a.id]&&/native code/.test(Promise.toString())&&"undefined"!=typeof Promise)return new Promise(((e,t)=>n[a.id]={resolve:e,reject:t}))}(e,r)}function u(i){var r=decodeURIComponent(i),a=JSON.parse(r);o("[WebViewJSBridge receiveMessage]: ",a);var c=a;"request"===c.type&&function(t){function n(e){f(t={action:t.action,data:e,id:t.id,type:"response",resolved:!0,rejected:!1})}function i(e){f(t={action:t.action,data:e,id:t.id,type:"response",resolved:!1,rejected:!0})}var r=t.action;if(r in e){var a=(0,e[r])(t.data,(function(e){n(e)}),(function(e){i(e)}));"[object Promise]"==Object.prototype.toString.call(a)&&a.then((function(e){n(e)})).catch((function(e){i(e.toString())}))}else i(`handler name -> ${r} can't find!!!`)}(c),"response"===c.type&&function(e){var i=e.id,r=e.data,a=e.resolved,o=e.rejected;t[i]&&(a&&t[i].success&&t[i].success(r),o&&t[i].fail&&t[i].fail(r),delete t[i]),n[i]&&(a&&n[i].resolve(r),o&&n[i].reject(r),delete n[i])}(c)}function l(e){o("[WebViewJSBridge postMessage]: ",e);var t=JSON.stringify(e),n=encodeURIComponent(t);c()&&self!=top&&window.parent.postMessage(n,"*"),a.indexOf("flutter")>-1&&window.FlutterWebView&&window.FlutterWebView.postMessage(n),a.indexOf("reactnative")>-1&&window.ReactNativeWebView&&window.ReactNativeWebView.postMessage(n)}function f(e){l(e)}return{init:function(e){e&&(e.debug&&(r=!!e.debug),e.channel&&"[object Array]"===Object.prototype.toString.apply(e.channel)&&(a=e.channel,c()&&window.addEventListener("message",(e=>{window.eval(e.data)})))),d("#evalJavaScript#",(function(e,t,n){try{t(Function('"use strict";return ('+e.toString()+")")())}catch(e){o(e),n(e.toSring())}})),s("#jsbridgeReady#",{data:!0,success:function(e){o("[#jsbridgeReady#] success response: "+e)},fail:function(e){o("[#jsbridgeReady#] fail response: "+e)}})},registerHandler:d,unregisterHandler:function(t){e[t]&&delete e[t]},callHandler:s,onMessageReceived:function(e){setTimeout((function(){u(e)}),0)}}},setTimeout((()=>{var e=document,t=e.createEvent("Event"),n=window.WVJBCallbacks||[];t.initEvent("WebViewJSBridgeReady",!0,!1),t.bridge=WebViewJSBridge,delete window.WVJBCallbacks;for(var i=0;i<n.length;i++)(0,n[i])(WebViewJSBridge);e.dispatchEvent(t)}),0));
